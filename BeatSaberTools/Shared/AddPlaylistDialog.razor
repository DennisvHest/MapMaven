@using BeatSaberTools.Extensions;

<EditForm Model="@AddPlaylistModel" OnValidSubmit="OnValidSubmit">
    <MudDialog>
        <DialogContent>
            <DataAnnotationsValidator />
            <MudGrid>
                <MudItem xs="6">
                    <MudPaper Height="300px" Outlined="true" Class="relative rounded-lg border-2 border-dashed pa-4 mud-width-full mud-height-full d-flex align-center flex-column justify-center">
                        <InputFile OnChange="OnInputFileChanged" class="absolute mud-width-full mud-height-full overflow-hidden z-2" style="opacity:0;" />
                        @if (!string.IsNullOrEmpty(CoverImage))
                        {
                            <img src="@CoverImage" class="full-width" />
                        }
                        else
                        {
                            <MudIcon Icon="@Icons.Filled.Image" Size="Size.Large"></MudIcon>
                            <MudText Typo="Typo.subtitle2">Click to browse for cover images...</MudText>
                        }
                    </MudPaper>
                </MudItem>
                <MudItem xs="6">
                    <MudTextField Label="Name"
                                  Variant="Variant.Outlined"
                                  @bind-Value="AddPlaylistModel.Name"
                                  For="() => AddPlaylistModel.Name"
                                  Class="mb-4 mt-0" />
                    <MudTextField Label="Description"
                                  Variant="Variant.Outlined"
                                  @bind-Value="AddPlaylistModel.Description"
                                  For="() => AddPlaylistModel.Description"
                                  Lines="3" />
                </MudItem>
            </MudGrid>
        </DialogContent>
        <DialogActions>
            <MudButton OnClick="Cancel">Cancel</MudButton>
            <MudButton ButtonType="ButtonType.Submit">Add</MudButton>
        </DialogActions>
    </MudDialog>
</EditForm>

