@using BeatSaberTools.Models.Data.Playlists

<MudList Class="d-flex flex-column" Clickable="true" @bind-SelectedValue="SelectedPlaylistValue">
    <MudListSubheader Class="d-flex align-center justify-space-between py-2" Style="border-top: 1px solid;">
        <div class="d-flex align-center">
            <MudIcon Icon="@Icons.Filled.PlaylistPlay"></MudIcon> Playlists
        </div>
        <MudIconButton Icon="@Icons.Filled.Add" Variant="Variant.Outlined" Size="Size.Small" OnClick="OpenAddPlaylistDialog" />
    </MudListSubheader>
    @if (LoadingPlaylists)
    {
        <MudProgressCircular Color="Color.Info" Size="Size.Small" Indeterminate="true" Class="align-self-center" />
    }
    @foreach (var playlist in Playlists)
    {
        <MudListItem title="@playlist.Title" OnClick="() => OnPlaylistSelect(playlist)" Value="playlist">
            <div class="playlist-list-item">
                @if (!string.IsNullOrEmpty(playlist.CoverImage))
                {
                    <img src="data:image/png;@playlist.CoverImage" class="mr-2" /> 
                }
                @playlist.Title
            </div>
        </MudListItem>
    }
</MudList>


